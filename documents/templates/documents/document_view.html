{% extends 'documents/base.html' %}
{% load static %}

{% block title %}{{ document.title }} - View{% endblock %}

{% block content %}
<div class="container">
    <div class="document-view">
        <h2>{{ document.title }} ({{ document.get_document_type_display }}) - {{ document.year }}</h2>
        {% if document.pdf_file %}
            <div class="pdf-viewer">
                <object data="{{ document.pdf_file.url }}" type="application/pdf" width="100%" height="600px">
                    <embed src="{{ document.pdf_file.url }}" type="application/pdf" width="100%" height="600px" />
                    <p class="error">Your browser does not support PDF viewing. 
                        <a href="{{ document.pdf_file.url }}" download>Download the PDF</a> instead.
                    </p>
                </object>
            </div>
            <div class="document-actions">
                <a href="{{ document.pdf_file.url }}" download class="btn btn-download">Download PDF</a>
                <a href="{% url 'documents:document_list' %}" class="btn btn-back">Back to List</a>
            </div>
        {% else %}
            <p class="error">No PDF file associated with this document.</p>
            <div class="document-actions">
                <a href="{% url 'documents:document_list' %}" class="btn btn-back">Back to List</a>
            </div>
        {% endif %}
    </div>
    
</div>
{% include 'documents/footer.html' %}
{% endblock %}